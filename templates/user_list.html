{% extends 'base.html' %}

{% block content %}
<h4>Staff:</h4>
<table class="table table-striped table-bordered table-hover">
    <tr>
        <th>Last Name</th>
        <th>First Name</th>
        <th>Shifts Per Roster</th>
        <th>Max Shifts if Taking Leave</th>
        <th>Available for Shifts</th>
        <th>Roles</th>
        <th>Action</th>
    </tr>
    {% for user in customuser_list %}
    <tr>
        <td>{{ user.last_name }}</td>
        <td>{{ user.first_name }}</td>
        <td>{{ user.shifts_per_roster }}</td>
        <td>{{ user.max_shifts }}</td>
        <td>{{ user.available }}</td>
        <td>{% for role in user.roles.all|dictsort:"role_name" %}
            {{ role.role_name }}
            {% endfor %}
        </td>
        <td><a href="{% url 'user_update' user.pk %}">Edit</a> | <a href="{% url 'user_delete' user.pk %}">Delete</a></td>
    </tr>
  {% endfor %}
</table>
{% endblock content %}
